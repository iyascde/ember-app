{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\iyasm\\\\OneDrive\\\\Workspace\\\\ember-app\\\\src\\\\pages\\\\Companion.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useEmber } from '../Context/EmberContext.js';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Companion() {\n  _s();\n  const [listening, setListening] = useState(false);\n  const [showBubble, setShowBubble] = useState(false);\n  const [bubbleText, setBubbleText] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [showEndOverlay, setShowEndOverlay] = useState(false);\n  const [clock, setClock] = useState('');\n  const navigate = useNavigate();\n  const emberLines = [\"Maggie, I've been thinking about you. How are you feeling today?\", \"Do you remember you once told me about your roses? I'd love to hear about them again.\", \"It's such a lovely time of day. Have you had your coffee yet, sweetheart?\", \"I was just thinking about Thomas. He sounds like he was such a wonderful man.\", \"Your daughter Sarah called earlier. She said to tell you she loves you very much.\", \"Would you like to hear a little music? I know you love Frank Sinatra.\", \"Tell me something ‚Äî what does your garden look like this time of year?\"];\n  const [lineIndex, setLineIndex] = useState(0);\n  const greeting = () => {\n    const h = new Date().getHours();\n    if (h < 12) return 'Good morning';\n    if (h < 17) return 'Good afternoon';\n    return 'Good evening';\n  };\n  useEffect(() => {\n    const update = () => {\n      const now = new Date();\n      const time = now.toLocaleTimeString('en-US', {\n        hour: 'numeric',\n        minute: '2-digit',\n        hour12: true\n      });\n      const date = now.toLocaleDateString('en-US', {\n        weekday: 'long',\n        month: 'long',\n        day: 'numeric'\n      });\n      setClock(`${time}  ¬∑  ${date}`);\n    };\n    update();\n    const interval = setInterval(update, 30000);\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    let speakTimeout;\n    let nextTimeout;\n    if (listening) {\n      // show typing first\n      setIsTyping(true);\n      setShowBubble(true);\n      setBubbleText('');\n      speakTimeout = setTimeout(() => {\n        setIsTyping(false);\n        setBubbleText(emberLines[lineIndex % emberLines.length]);\n        nextTimeout = setTimeout(() => {\n          setIsTyping(true);\n          setBubbleText('');\n          setTimeout(() => {\n            setIsTyping(false);\n            setLineIndex(prev => prev + 1);\n            setBubbleText(emberLines[(lineIndex + 1) % emberLines.length]);\n          }, 2000);\n        }, 7000);\n      }, 1800);\n    } else {\n      setShowBubble(false);\n      setIsTyping(false);\n      setBubbleText('');\n    }\n    return () => {\n      clearTimeout(speakTimeout);\n      clearTimeout(nextTimeout);\n    };\n  }, [listening, lineIndex]);\n  const endSession = () => {\n    setListening(false);\n    setShowEndOverlay(false);\n    setTimeout(() => navigate('/dashboard'), 800);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .companion-page {\n          width: 100%; height: 100vh;\n          background: #F6F0E5;\n          display: flex; flex-direction: column;\n          align-items: center; justify-content: center;\n          position: relative; overflow: hidden;\n        }\n        .bg-glow {\n          position: fixed; inset: 0; pointer-events: none; z-index: 0;\n        }\n        .bg-glow::before {\n          content: '';\n          position: absolute; top: 50%; left: 50%;\n          transform: translate(-50%, -50%);\n          width: 80vmin; height: 80vmin;\n          background: radial-gradient(ellipse at center, rgba(212,184,150,0.22) 0%, rgba(245,239,228,0) 70%);\n          border-radius: 50%;\n          animation: breathe-bg 8s ease-in-out infinite;\n        }\n        @keyframes breathe-bg {\n          0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }\n          50% { transform: translate(-50%, -50%) scale(1.08); opacity: 0.7; }\n        }\n        .particles {\n          position: fixed; inset: 0; pointer-events: none; z-index: 1; overflow: hidden;\n        }\n        .particle {\n          position: absolute; width: 3px; height: 3px;\n          border-radius: 50%; background: var(--tan);\n          opacity: 0; animation: float-particle linear infinite;\n        }\n        @keyframes float-particle {\n          0%   { bottom: -5%; opacity: 0; transform: translateX(0) scale(1); }\n          10%  { opacity: 0.4; }\n          90%  { opacity: 0.15; }\n          100% { bottom: 105%; opacity: 0; transform: translateX(20px) scale(0.5); }\n        }\n        .logo-corner {\n          position: fixed; top: 2.5rem; left: 3rem;\n          font-family: 'Playfair Display', serif; font-size: 1.2rem;\n          color: var(--brown-dark);\n          display: flex; align-items: center; gap: 0.4rem;\n          z-index: 20;\n          opacity: 0; animation: fadeDown 1s ease forwards 0.2s;\n        }\n        .corner-time {\n          position: fixed; top: 2.5rem; left: 50%; transform: translateX(-50%);\n          font-family: 'Cormorant Garamond', serif;\n          font-size: clamp(0.8rem, 1.8vmin, 0.95rem);\n          letter-spacing: 0.15em; color: var(--text-muted); font-weight: 300;\n          z-index: 20;\n          opacity: 0; animation: fadeDown 1s ease forwards 0.2s;\n        }\n        .main-content {\n          position: relative; z-index: 10;\n          display: flex; flex-direction: column;\n          align-items: center; text-align: center; padding: 2rem;\n        }\n        .greeting-text {\n          font-family: 'Cormorant Garamond', serif;\n          font-size: clamp(1rem, 2.5vmin, 1.2rem);\n          font-weight: 300; letter-spacing: 0.22em; text-transform: uppercase;\n          color: var(--text-muted); margin-bottom: 0.8rem;\n          opacity: 0; animation: fadeDown 1s ease forwards 0.4s;\n        }\n        .patient-name {\n          font-family: 'Playfair Display', serif;\n          font-size: clamp(3.5rem, 10vmin, 7rem);\n          font-weight: 400; line-height: 1; color: var(--brown-dark);\n          margin-bottom: 0.5rem;\n          opacity: 0; animation: fadeDown 1s ease forwards 0.65s;\n        }\n        .tagline {\n          font-family: 'Cormorant Garamond', serif; font-style: italic;\n          font-size: clamp(1.1rem, 3vmin, 1.55rem); font-weight: 300;\n          color: var(--text-soft); margin-bottom: 5vmin;\n          opacity: 0; animation: fadeDown 1s ease forwards 0.9s; line-height: 1.6;\n        }\n        .waveform {\n          display: flex; align-items: center; justify-content: center;\n          gap: 5px; height: 40px; margin-bottom: 3vmin;\n          opacity: ${listening ? 1 : 0};\n          transition: opacity 0.5s;\n        }\n        .wbar {\n          width: 4px; background: var(--tan-deep); border-radius: 2px;\n          animation: wbar-anim 1s ease-in-out infinite;\n        }\n        .wbar:nth-child(1) { animation-delay: 0.0s; }\n        .wbar:nth-child(2) { animation-delay: 0.1s; }\n        .wbar:nth-child(3) { animation-delay: 0.2s; }\n        .wbar:nth-child(4) { animation-delay: 0.08s; }\n        .wbar:nth-child(5) { animation-delay: 0.18s; }\n        .wbar:nth-child(6) { animation-delay: 0.05s; }\n        .wbar:nth-child(7) { animation-delay: 0.15s; }\n        .wbar:nth-child(8) { animation-delay: 0.12s; }\n        .wbar:nth-child(9) { animation-delay: 0.22s; }\n        @keyframes wbar-anim {\n          0%, 100% { height: 6px; opacity: 0.4; }\n          50% { height: 32px; opacity: 1; }\n        }\n        .btn-wrap {\n          position: relative; display: flex;\n          align-items: center; justify-content: center;\n          margin-bottom: 5vmin;\n          opacity: 0; animation: fadeUp 1.1s ease forwards 1.15s;\n        }\n        .ring {\n          position: absolute; border-radius: 50%;\n          border: 1px solid rgba(212,184,150,0.25);\n        }\n        .ring-outer { width: 260px; height: 260px; animation: ring-pulse 3.5s ease-in-out infinite; }\n        .ring-mid   { width: 220px; height: 220px; animation: ring-pulse 3.5s ease-in-out infinite 0.4s; }\n        @keyframes ring-pulse {\n          0%, 100% { transform: scale(1); opacity: 0.6; }\n          50% { transform: scale(1.06); opacity: 0.15; }\n        }\n        .ember-btn {\n          width: 180px; height: 180px; border-radius: 50%; border: none;\n          cursor: pointer; display: flex; flex-direction: column;\n          align-items: center; justify-content: center; gap: 0.6rem;\n          position: relative; z-index: 2;\n          background: var(--brown-dark);\n          box-shadow: 0 20px 60px rgba(74,55,40,0.25), 0 4px 16px rgba(74,55,40,0.2);\n          transition: transform 0.4s cubic-bezier(0.34,1.56,0.64,1), box-shadow 0.4s, background 0.4s;\n          animation: idle-breathe 4s ease-in-out infinite 2s;\n        }\n        .ember-btn.active {\n          background: linear-gradient(135deg, #5a3a25, var(--brown-dark));\n          animation: listening-pulse 1.8s ease-in-out infinite !important;\n        }\n        @keyframes idle-breathe {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.025); }\n        }\n        @keyframes listening-pulse {\n          0%, 100% { box-shadow: 0 0 0 0px rgba(201,168,76,0.15), 0 20px 60px rgba(74,55,40,0.25); }\n          50% { box-shadow: 0 0 0 28px rgba(201,168,76,0.06), 0 0 80px rgba(201,168,76,0.18), 0 20px 60px rgba(74,55,40,0.3); }\n        }\n        .ember-btn:hover { transform: scale(1.06) !important; animation: none; box-shadow: 0 0 0 20px rgba(201,168,76,0.08), 0 28px 70px rgba(74,55,40,0.3); }\n        .ember-btn:active { transform: scale(0.96) !important; transition: transform 0.15s; }\n        .btn-icon { font-size: 2.8rem; line-height: 1; transition: transform 0.3s; }\n        .ember-btn:hover .btn-icon { transform: scale(1.1); }\n        .btn-label {\n          font-family: 'Cormorant Garamond', serif; font-size: 1rem;\n          font-weight: 400; letter-spacing: 0.12em; text-transform: uppercase;\n          color: rgba(245,239,228,0.85);\n        }\n        .status-text {\n          font-family: 'Cormorant Garamond', serif; font-style: italic;\n          font-size: clamp(1rem, 2.5vmin, 1.3rem);\n          color: var(--text-muted); letter-spacing: 0.04em;\n          min-height: 2em; transition: color 0.5s;\n          opacity: 0; animation: fadeUp 1s ease forwards 1.5s;\n        }\n        .ember-says {\n          position: fixed; bottom: 8vh; left: 50%;\n          transform: translateX(-50%);\n          max-width: min(580px, 88vw);\n          background: #F0E8D5;\n          border: 1px solid rgba(212,184,150,0.4);\n          border-radius: 20px; padding: 1.6rem 2rem;\n          text-align: center;\n          box-shadow: 0 12px 48px rgba(74,55,40,0.1);\n          z-index: 20;\n          transition: opacity 0.6s ease, transform 0.6s cubic-bezier(0.34,1.2,0.64,1);\n        }\n        .ember-says-label {\n          font-family: 'Cormorant Garamond', serif;\n          font-size: 0.72rem; letter-spacing: 0.18em; text-transform: uppercase;\n          color: var(--tan-deep); margin-bottom: 0.5rem;\n          display: flex; align-items: center; justify-content: center; gap: 0.5rem;\n        }\n        .ember-says-label::before, .ember-says-label::after {\n          content: ''; width: 20px; height: 1px; background: var(--tan-deep); display: block;\n        }\n        .ember-says-text {\n          font-family: 'Playfair Display', serif; font-style: italic;\n          font-size: clamp(1rem, 2.5vmin, 1.3rem);\n          color: var(--brown-dark); line-height: 1.65;\n        }\n        .typing-dots { display: inline-flex; gap: 4px; align-items: center; }\n        .typing-dot {\n          width: 6px; height: 6px; background: var(--tan-deep);\n          border-radius: 50%; animation: dot-bounce 1.2s ease-in-out infinite;\n        }\n        .typing-dot:nth-child(2) { animation-delay: 0.2s; }\n        .typing-dot:nth-child(3) { animation-delay: 0.4s; }\n        @keyframes dot-bounce {\n          0%, 100% { transform: translateY(0); opacity: 0.4; }\n          50% { transform: translateY(-5px); opacity: 1; }\n        }\n        .end-btn {\n          position: fixed; bottom: 2.5rem; right: 3rem;\n          font-family: 'Cormorant Garamond', serif; font-size: 0.85rem;\n          letter-spacing: 0.08em; color: var(--text-muted);\n          opacity: 0; animation: fadeUp 1s ease forwards 2s;\n          transition: color 0.3s; cursor: pointer;\n          background: none; border: none;\n        }\n        .end-btn:hover { color: var(--text-soft); }\n        .end-overlay {\n          position: fixed; inset: 0;\n          background: rgba(74,55,40,0.6);\n          backdrop-filter: blur(6px);\n          z-index: 200; display: flex;\n          align-items: center; justify-content: center;\n          animation: fadeIn 0.4s ease forwards;\n        }\n        .end-card {\n          background: var(--cream); border-radius: 24px;\n          padding: 3rem 3.5rem; text-align: center; max-width: 400px;\n          box-shadow: 0 24px 80px rgba(74,55,40,0.3);\n          animation: fadeUp 0.4s cubic-bezier(0.34,1.2,0.64,1) forwards;\n        }\n        .end-card-icon { font-size: 3rem; margin-bottom: 1.2rem; }\n        .end-card-title { font-family: 'Playfair Display', serif; font-size: 1.8rem; font-style: italic; color: var(--brown-dark); margin-bottom: 0.8rem; }\n        .end-card-body { font-family: 'Cormorant Garamond', serif; font-size: 1.05rem; color: var(--text-soft); line-height: 1.7; margin-bottom: 2rem; font-style: italic; }\n        .end-card-actions { display: flex; gap: 0.8rem; justify-content: center; flex-wrap: wrap; }\n        .btn-end-yes {\n          font-family: 'Cormorant Garamond', serif; font-size: 0.95rem;\n          letter-spacing: 0.06em; background: var(--brown-dark); color: var(--cream);\n          border: none; padding: 0.85rem 2rem; border-radius: 100px;\n          cursor: pointer; transition: all 0.3s;\n        }\n        .btn-end-yes:hover { background: var(--brown); transform: translateY(-1px); }\n        .btn-end-no {\n          font-family: 'Cormorant Garamond', serif; font-size: 0.95rem;\n          letter-spacing: 0.06em; background: transparent; color: var(--text-soft);\n          border: 1px solid var(--tan); padding: 0.85rem 2rem; border-radius: 100px;\n          cursor: pointer; transition: all 0.3s;\n        }\n        .btn-end-no:hover { border-color: var(--brown); color: var(--brown-dark); }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"companion-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-glow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"particles\",\n        children: [{\n          left: '12%',\n          duration: '18s',\n          delay: '0s'\n        }, {\n          left: '28%',\n          duration: '22s',\n          delay: '3s',\n          color: 'var(--gold)'\n        }, {\n          left: '45%',\n          duration: '16s',\n          delay: '7s'\n        }, {\n          left: '62%',\n          duration: '20s',\n          delay: '1s',\n          color: 'var(--rose)'\n        }, {\n          left: '78%',\n          duration: '25s',\n          delay: '5s'\n        }, {\n          left: '90%',\n          duration: '19s',\n          delay: '9s',\n          color: 'var(--gold)'\n        }, {\n          left: '35%',\n          duration: '23s',\n          delay: '12s'\n        }, {\n          left: '55%',\n          duration: '17s',\n          delay: '4s',\n          color: 'var(--rose)'\n        }].map((p, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"particle\",\n          style: {\n            left: p.left,\n            animationDuration: p.duration,\n            animationDelay: p.delay,\n            background: p.color || 'var(--tan)'\n          }\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo-corner\",\n        children: [\"Ember \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ember-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"corner-time\",\n        children: clock\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"greeting-text\",\n          children: greeting()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patient-name\",\n          children: \"Maggie.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tagline\",\n          children: [\"Ember is here with you.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 59\n          }, this), \"Whenever you're ready.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"waveform\",\n          style: {\n            opacity: listening ? 1 : 0\n          },\n          children: [...Array(9)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wbar\"\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 42\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ring ring-outer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ring ring-mid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `ember-btn ${listening ? 'active' : ''}`,\n            onClick: () => setListening(!listening),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn-icon\",\n              children: listening ? 'üîä' : 'üïØÔ∏è'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn-label\",\n              children: listening ? 'Listening‚Ä¶' : 'Talk to Ember'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status-text\",\n          style: {\n            color: listening ? 'var(--tan-deep)' : ''\n          },\n          children: listening ? 'Ember is with you' : 'Press the flame to begin'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this), showBubble && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ember-says\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ember-says-label\",\n          children: \"Ember\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ember-says-text\",\n          children: isTyping ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"typing-dots\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"typing-dot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"typing-dot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"typing-dot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 17\n          }, this) : bubbleText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"end-btn\",\n        onClick: () => setShowEndOverlay(true),\n        children: \"End conversation \\xB7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this), showEndOverlay && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"end-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"end-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"end-card-icon\",\n            children: \"\\uD83C\\uDF3F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"end-card-title\",\n            children: \"Until next time, Maggie.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"end-card-body\",\n            children: \"It was so lovely talking with you today. Ember will always be here, whenever you need a friendly voice.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"end-card-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-end-yes\",\n              onClick: endSession,\n              children: \"Goodbye for now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-end-no\",\n              onClick: () => setShowEndOverlay(false),\n              children: \"Keep talking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Companion, \"aSmn4LC+X1K0DMgL8AUMcMmjbAU=\", false, function () {\n  return [useNavigate];\n});\n_c = Companion;\nvar _c;\n$RefreshReg$(_c, \"Companion\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useEmber","jsxDEV","_jsxDEV","Fragment","_Fragment","Companion","_s","listening","setListening","showBubble","setShowBubble","bubbleText","setBubbleText","isTyping","setIsTyping","showEndOverlay","setShowEndOverlay","clock","setClock","navigate","emberLines","lineIndex","setLineIndex","greeting","h","Date","getHours","update","now","time","toLocaleTimeString","hour","minute","hour12","date","toLocaleDateString","weekday","month","day","interval","setInterval","clearInterval","speakTimeout","nextTimeout","setTimeout","length","prev","clearTimeout","endSession","children","fileName","_jsxFileName","lineNumber","columnNumber","className","left","duration","delay","color","map","p","i","style","animationDuration","animationDelay","background","opacity","Array","_","onClick","_c","$RefreshReg$"],"sources":["C:/Users/iyasm/OneDrive/Workspace/ember-app/src/pages/Companion.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useEmber } from '../Context/EmberContext.js';\r\n\r\nexport default function Companion() {\r\n  const [listening, setListening] = useState(false);\r\n  const [showBubble, setShowBubble] = useState(false);\r\n  const [bubbleText, setBubbleText] = useState('');\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [showEndOverlay, setShowEndOverlay] = useState(false);\r\n  const [clock, setClock] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const emberLines = [\r\n    \"Maggie, I've been thinking about you. How are you feeling today?\",\r\n    \"Do you remember you once told me about your roses? I'd love to hear about them again.\",\r\n    \"It's such a lovely time of day. Have you had your coffee yet, sweetheart?\",\r\n    \"I was just thinking about Thomas. He sounds like he was such a wonderful man.\",\r\n    \"Your daughter Sarah called earlier. She said to tell you she loves you very much.\",\r\n    \"Would you like to hear a little music? I know you love Frank Sinatra.\",\r\n    \"Tell me something ‚Äî what does your garden look like this time of year?\",\r\n  ];\r\n\r\n  const [lineIndex, setLineIndex] = useState(0);\r\n\r\n  const greeting = () => {\r\n    const h = new Date().getHours();\r\n    if (h < 12) return 'Good morning';\r\n    if (h < 17) return 'Good afternoon';\r\n    return 'Good evening';\r\n  };\r\n\r\n  useEffect(() => {\r\n    const update = () => {\r\n      const now = new Date();\r\n      const time = now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true });\r\n      const date = now.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' });\r\n      setClock(`${time}  ¬∑  ${date}`);\r\n    };\r\n    update();\r\n    const interval = setInterval(update, 30000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let speakTimeout;\r\n    let nextTimeout;\r\n\r\n    if (listening) {\r\n      // show typing first\r\n      setIsTyping(true);\r\n      setShowBubble(true);\r\n      setBubbleText('');\r\n\r\n      speakTimeout = setTimeout(() => {\r\n        setIsTyping(false);\r\n        setBubbleText(emberLines[lineIndex % emberLines.length]);\r\n\r\n        nextTimeout = setTimeout(() => {\r\n          setIsTyping(true);\r\n          setBubbleText('');\r\n          setTimeout(() => {\r\n            setIsTyping(false);\r\n            setLineIndex(prev => prev + 1);\r\n            setBubbleText(emberLines[(lineIndex + 1) % emberLines.length]);\r\n          }, 2000);\r\n        }, 7000);\r\n      }, 1800);\r\n    } else {\r\n      setShowBubble(false);\r\n      setIsTyping(false);\r\n      setBubbleText('');\r\n    }\r\n\r\n    return () => {\r\n      clearTimeout(speakTimeout);\r\n      clearTimeout(nextTimeout);\r\n    };\r\n  }, [listening, lineIndex]);\r\n\r\n  const endSession = () => {\r\n    setListening(false);\r\n    setShowEndOverlay(false);\r\n    setTimeout(() => navigate('/dashboard'), 800);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <style>{`\r\n        .companion-page {\r\n          width: 100%; height: 100vh;\r\n          background: #F6F0E5;\r\n          display: flex; flex-direction: column;\r\n          align-items: center; justify-content: center;\r\n          position: relative; overflow: hidden;\r\n        }\r\n        .bg-glow {\r\n          position: fixed; inset: 0; pointer-events: none; z-index: 0;\r\n        }\r\n        .bg-glow::before {\r\n          content: '';\r\n          position: absolute; top: 50%; left: 50%;\r\n          transform: translate(-50%, -50%);\r\n          width: 80vmin; height: 80vmin;\r\n          background: radial-gradient(ellipse at center, rgba(212,184,150,0.22) 0%, rgba(245,239,228,0) 70%);\r\n          border-radius: 50%;\r\n          animation: breathe-bg 8s ease-in-out infinite;\r\n        }\r\n        @keyframes breathe-bg {\r\n          0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }\r\n          50% { transform: translate(-50%, -50%) scale(1.08); opacity: 0.7; }\r\n        }\r\n        .particles {\r\n          position: fixed; inset: 0; pointer-events: none; z-index: 1; overflow: hidden;\r\n        }\r\n        .particle {\r\n          position: absolute; width: 3px; height: 3px;\r\n          border-radius: 50%; background: var(--tan);\r\n          opacity: 0; animation: float-particle linear infinite;\r\n        }\r\n        @keyframes float-particle {\r\n          0%   { bottom: -5%; opacity: 0; transform: translateX(0) scale(1); }\r\n          10%  { opacity: 0.4; }\r\n          90%  { opacity: 0.15; }\r\n          100% { bottom: 105%; opacity: 0; transform: translateX(20px) scale(0.5); }\r\n        }\r\n        .logo-corner {\r\n          position: fixed; top: 2.5rem; left: 3rem;\r\n          font-family: 'Playfair Display', serif; font-size: 1.2rem;\r\n          color: var(--brown-dark);\r\n          display: flex; align-items: center; gap: 0.4rem;\r\n          z-index: 20;\r\n          opacity: 0; animation: fadeDown 1s ease forwards 0.2s;\r\n        }\r\n        .corner-time {\r\n          position: fixed; top: 2.5rem; left: 50%; transform: translateX(-50%);\r\n          font-family: 'Cormorant Garamond', serif;\r\n          font-size: clamp(0.8rem, 1.8vmin, 0.95rem);\r\n          letter-spacing: 0.15em; color: var(--text-muted); font-weight: 300;\r\n          z-index: 20;\r\n          opacity: 0; animation: fadeDown 1s ease forwards 0.2s;\r\n        }\r\n        .main-content {\r\n          position: relative; z-index: 10;\r\n          display: flex; flex-direction: column;\r\n          align-items: center; text-align: center; padding: 2rem;\r\n        }\r\n        .greeting-text {\r\n          font-family: 'Cormorant Garamond', serif;\r\n          font-size: clamp(1rem, 2.5vmin, 1.2rem);\r\n          font-weight: 300; letter-spacing: 0.22em; text-transform: uppercase;\r\n          color: var(--text-muted); margin-bottom: 0.8rem;\r\n          opacity: 0; animation: fadeDown 1s ease forwards 0.4s;\r\n        }\r\n        .patient-name {\r\n          font-family: 'Playfair Display', serif;\r\n          font-size: clamp(3.5rem, 10vmin, 7rem);\r\n          font-weight: 400; line-height: 1; color: var(--brown-dark);\r\n          margin-bottom: 0.5rem;\r\n          opacity: 0; animation: fadeDown 1s ease forwards 0.65s;\r\n        }\r\n        .tagline {\r\n          font-family: 'Cormorant Garamond', serif; font-style: italic;\r\n          font-size: clamp(1.1rem, 3vmin, 1.55rem); font-weight: 300;\r\n          color: var(--text-soft); margin-bottom: 5vmin;\r\n          opacity: 0; animation: fadeDown 1s ease forwards 0.9s; line-height: 1.6;\r\n        }\r\n        .waveform {\r\n          display: flex; align-items: center; justify-content: center;\r\n          gap: 5px; height: 40px; margin-bottom: 3vmin;\r\n          opacity: ${listening ? 1 : 0};\r\n          transition: opacity 0.5s;\r\n        }\r\n        .wbar {\r\n          width: 4px; background: var(--tan-deep); border-radius: 2px;\r\n          animation: wbar-anim 1s ease-in-out infinite;\r\n        }\r\n        .wbar:nth-child(1) { animation-delay: 0.0s; }\r\n        .wbar:nth-child(2) { animation-delay: 0.1s; }\r\n        .wbar:nth-child(3) { animation-delay: 0.2s; }\r\n        .wbar:nth-child(4) { animation-delay: 0.08s; }\r\n        .wbar:nth-child(5) { animation-delay: 0.18s; }\r\n        .wbar:nth-child(6) { animation-delay: 0.05s; }\r\n        .wbar:nth-child(7) { animation-delay: 0.15s; }\r\n        .wbar:nth-child(8) { animation-delay: 0.12s; }\r\n        .wbar:nth-child(9) { animation-delay: 0.22s; }\r\n        @keyframes wbar-anim {\r\n          0%, 100% { height: 6px; opacity: 0.4; }\r\n          50% { height: 32px; opacity: 1; }\r\n        }\r\n        .btn-wrap {\r\n          position: relative; display: flex;\r\n          align-items: center; justify-content: center;\r\n          margin-bottom: 5vmin;\r\n          opacity: 0; animation: fadeUp 1.1s ease forwards 1.15s;\r\n        }\r\n        .ring {\r\n          position: absolute; border-radius: 50%;\r\n          border: 1px solid rgba(212,184,150,0.25);\r\n        }\r\n        .ring-outer { width: 260px; height: 260px; animation: ring-pulse 3.5s ease-in-out infinite; }\r\n        .ring-mid   { width: 220px; height: 220px; animation: ring-pulse 3.5s ease-in-out infinite 0.4s; }\r\n        @keyframes ring-pulse {\r\n          0%, 100% { transform: scale(1); opacity: 0.6; }\r\n          50% { transform: scale(1.06); opacity: 0.15; }\r\n        }\r\n        .ember-btn {\r\n          width: 180px; height: 180px; border-radius: 50%; border: none;\r\n          cursor: pointer; display: flex; flex-direction: column;\r\n          align-items: center; justify-content: center; gap: 0.6rem;\r\n          position: relative; z-index: 2;\r\n          background: var(--brown-dark);\r\n          box-shadow: 0 20px 60px rgba(74,55,40,0.25), 0 4px 16px rgba(74,55,40,0.2);\r\n          transition: transform 0.4s cubic-bezier(0.34,1.56,0.64,1), box-shadow 0.4s, background 0.4s;\r\n          animation: idle-breathe 4s ease-in-out infinite 2s;\r\n        }\r\n        .ember-btn.active {\r\n          background: linear-gradient(135deg, #5a3a25, var(--brown-dark));\r\n          animation: listening-pulse 1.8s ease-in-out infinite !important;\r\n        }\r\n        @keyframes idle-breathe {\r\n          0%, 100% { transform: scale(1); }\r\n          50% { transform: scale(1.025); }\r\n        }\r\n        @keyframes listening-pulse {\r\n          0%, 100% { box-shadow: 0 0 0 0px rgba(201,168,76,0.15), 0 20px 60px rgba(74,55,40,0.25); }\r\n          50% { box-shadow: 0 0 0 28px rgba(201,168,76,0.06), 0 0 80px rgba(201,168,76,0.18), 0 20px 60px rgba(74,55,40,0.3); }\r\n        }\r\n        .ember-btn:hover { transform: scale(1.06) !important; animation: none; box-shadow: 0 0 0 20px rgba(201,168,76,0.08), 0 28px 70px rgba(74,55,40,0.3); }\r\n        .ember-btn:active { transform: scale(0.96) !important; transition: transform 0.15s; }\r\n        .btn-icon { font-size: 2.8rem; line-height: 1; transition: transform 0.3s; }\r\n        .ember-btn:hover .btn-icon { transform: scale(1.1); }\r\n        .btn-label {\r\n          font-family: 'Cormorant Garamond', serif; font-size: 1rem;\r\n          font-weight: 400; letter-spacing: 0.12em; text-transform: uppercase;\r\n          color: rgba(245,239,228,0.85);\r\n        }\r\n        .status-text {\r\n          font-family: 'Cormorant Garamond', serif; font-style: italic;\r\n          font-size: clamp(1rem, 2.5vmin, 1.3rem);\r\n          color: var(--text-muted); letter-spacing: 0.04em;\r\n          min-height: 2em; transition: color 0.5s;\r\n          opacity: 0; animation: fadeUp 1s ease forwards 1.5s;\r\n        }\r\n        .ember-says {\r\n          position: fixed; bottom: 8vh; left: 50%;\r\n          transform: translateX(-50%);\r\n          max-width: min(580px, 88vw);\r\n          background: #F0E8D5;\r\n          border: 1px solid rgba(212,184,150,0.4);\r\n          border-radius: 20px; padding: 1.6rem 2rem;\r\n          text-align: center;\r\n          box-shadow: 0 12px 48px rgba(74,55,40,0.1);\r\n          z-index: 20;\r\n          transition: opacity 0.6s ease, transform 0.6s cubic-bezier(0.34,1.2,0.64,1);\r\n        }\r\n        .ember-says-label {\r\n          font-family: 'Cormorant Garamond', serif;\r\n          font-size: 0.72rem; letter-spacing: 0.18em; text-transform: uppercase;\r\n          color: var(--tan-deep); margin-bottom: 0.5rem;\r\n          display: flex; align-items: center; justify-content: center; gap: 0.5rem;\r\n        }\r\n        .ember-says-label::before, .ember-says-label::after {\r\n          content: ''; width: 20px; height: 1px; background: var(--tan-deep); display: block;\r\n        }\r\n        .ember-says-text {\r\n          font-family: 'Playfair Display', serif; font-style: italic;\r\n          font-size: clamp(1rem, 2.5vmin, 1.3rem);\r\n          color: var(--brown-dark); line-height: 1.65;\r\n        }\r\n        .typing-dots { display: inline-flex; gap: 4px; align-items: center; }\r\n        .typing-dot {\r\n          width: 6px; height: 6px; background: var(--tan-deep);\r\n          border-radius: 50%; animation: dot-bounce 1.2s ease-in-out infinite;\r\n        }\r\n        .typing-dot:nth-child(2) { animation-delay: 0.2s; }\r\n        .typing-dot:nth-child(3) { animation-delay: 0.4s; }\r\n        @keyframes dot-bounce {\r\n          0%, 100% { transform: translateY(0); opacity: 0.4; }\r\n          50% { transform: translateY(-5px); opacity: 1; }\r\n        }\r\n        .end-btn {\r\n          position: fixed; bottom: 2.5rem; right: 3rem;\r\n          font-family: 'Cormorant Garamond', serif; font-size: 0.85rem;\r\n          letter-spacing: 0.08em; color: var(--text-muted);\r\n          opacity: 0; animation: fadeUp 1s ease forwards 2s;\r\n          transition: color 0.3s; cursor: pointer;\r\n          background: none; border: none;\r\n        }\r\n        .end-btn:hover { color: var(--text-soft); }\r\n        .end-overlay {\r\n          position: fixed; inset: 0;\r\n          background: rgba(74,55,40,0.6);\r\n          backdrop-filter: blur(6px);\r\n          z-index: 200; display: flex;\r\n          align-items: center; justify-content: center;\r\n          animation: fadeIn 0.4s ease forwards;\r\n        }\r\n        .end-card {\r\n          background: var(--cream); border-radius: 24px;\r\n          padding: 3rem 3.5rem; text-align: center; max-width: 400px;\r\n          box-shadow: 0 24px 80px rgba(74,55,40,0.3);\r\n          animation: fadeUp 0.4s cubic-bezier(0.34,1.2,0.64,1) forwards;\r\n        }\r\n        .end-card-icon { font-size: 3rem; margin-bottom: 1.2rem; }\r\n        .end-card-title { font-family: 'Playfair Display', serif; font-size: 1.8rem; font-style: italic; color: var(--brown-dark); margin-bottom: 0.8rem; }\r\n        .end-card-body { font-family: 'Cormorant Garamond', serif; font-size: 1.05rem; color: var(--text-soft); line-height: 1.7; margin-bottom: 2rem; font-style: italic; }\r\n        .end-card-actions { display: flex; gap: 0.8rem; justify-content: center; flex-wrap: wrap; }\r\n        .btn-end-yes {\r\n          font-family: 'Cormorant Garamond', serif; font-size: 0.95rem;\r\n          letter-spacing: 0.06em; background: var(--brown-dark); color: var(--cream);\r\n          border: none; padding: 0.85rem 2rem; border-radius: 100px;\r\n          cursor: pointer; transition: all 0.3s;\r\n        }\r\n        .btn-end-yes:hover { background: var(--brown); transform: translateY(-1px); }\r\n        .btn-end-no {\r\n          font-family: 'Cormorant Garamond', serif; font-size: 0.95rem;\r\n          letter-spacing: 0.06em; background: transparent; color: var(--text-soft);\r\n          border: 1px solid var(--tan); padding: 0.85rem 2rem; border-radius: 100px;\r\n          cursor: pointer; transition: all 0.3s;\r\n        }\r\n        .btn-end-no:hover { border-color: var(--brown); color: var(--brown-dark); }\r\n      `}</style>\r\n\r\n      <div className=\"companion-page\">\r\n        <div className=\"bg-glow\"></div>\r\n\r\n        {/* Particles */}\r\n        <div className=\"particles\">\r\n          {[\r\n            { left:'12%', duration:'18s', delay:'0s' },\r\n            { left:'28%', duration:'22s', delay:'3s', color:'var(--gold)' },\r\n            { left:'45%', duration:'16s', delay:'7s' },\r\n            { left:'62%', duration:'20s', delay:'1s', color:'var(--rose)' },\r\n            { left:'78%', duration:'25s', delay:'5s' },\r\n            { left:'90%', duration:'19s', delay:'9s', color:'var(--gold)' },\r\n            { left:'35%', duration:'23s', delay:'12s' },\r\n            { left:'55%', duration:'17s', delay:'4s', color:'var(--rose)' },\r\n          ].map((p, i) => (\r\n            <div key={i} className=\"particle\" style={{\r\n              left: p.left,\r\n              animationDuration: p.duration,\r\n              animationDelay: p.delay,\r\n              background: p.color || 'var(--tan)',\r\n            }}></div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Logo */}\r\n        <div className=\"logo-corner\">\r\n          Ember <span className=\"ember-dot\"></span>\r\n        </div>\r\n\r\n        {/* Clock */}\r\n        <div className=\"corner-time\">{clock}</div>\r\n\r\n        {/* Main */}\r\n        <div className=\"main-content\">\r\n          <div className=\"greeting-text\">{greeting()}</div>\r\n          <div className=\"patient-name\">Maggie.</div>\r\n          <div className=\"tagline\">Ember is here with you.<br/>Whenever you're ready.</div>\r\n\r\n          {/* Waveform */}\r\n          <div className=\"waveform\" style={{ opacity: listening ? 1 : 0 }}>\r\n            {[...Array(9)].map((_, i) => <div key={i} className=\"wbar\"></div>)}\r\n          </div>\r\n\r\n          {/* Button */}\r\n          <div className=\"btn-wrap\">\r\n            <div className=\"ring ring-outer\"></div>\r\n            <div className=\"ring ring-mid\"></div>\r\n            <button\r\n              className={`ember-btn ${listening ? 'active' : ''}`}\r\n              onClick={() => setListening(!listening)}\r\n            >\r\n              <span className=\"btn-icon\">{listening ? 'üîä' : 'üïØÔ∏è'}</span>\r\n              <span className=\"btn-label\">{listening ? 'Listening‚Ä¶' : 'Talk to Ember'}</span>\r\n            </button>\r\n          </div>\r\n\r\n          {/* Status */}\r\n          <div className=\"status-text\" style={{ color: listening ? 'var(--tan-deep)' : '' }}>\r\n            {listening ? 'Ember is with you' : 'Press the flame to begin'}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Ember Says Bubble */}\r\n        {showBubble && (\r\n          <div className=\"ember-says\">\r\n            <div className=\"ember-says-label\">Ember</div>\r\n            <div className=\"ember-says-text\">\r\n              {isTyping ? (\r\n                <div className=\"typing-dots\">\r\n                  <div className=\"typing-dot\"></div>\r\n                  <div className=\"typing-dot\"></div>\r\n                  <div className=\"typing-dot\"></div>\r\n                </div>\r\n              ) : bubbleText}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* End Button */}\r\n        <button className=\"end-btn\" onClick={() => setShowEndOverlay(true)}>\r\n          End conversation ¬∑\r\n        </button>\r\n\r\n        {/* End Overlay */}\r\n        {showEndOverlay && (\r\n          <div className=\"end-overlay\">\r\n            <div className=\"end-card\">\r\n              <div className=\"end-card-icon\">üåø</div>\r\n              <h2 className=\"end-card-title\">Until next time, Maggie.</h2>\r\n              <p className=\"end-card-body\">It was so lovely talking with you today. Ember will always be here, whenever you need a friendly voice.</p>\r\n              <div className=\"end-card-actions\">\r\n                <button className=\"btn-end-yes\" onClick={endSession}>Goodbye for now</button>\r\n                <button className=\"btn-end-no\" onClick={() => setShowEndOverlay(false)}>Keep talking</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}"],"mappings":"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W,CAAC;IAC3B,CAAC;EACH,CAAC,EAAE,CAACpC,SAAS,EAAEc,SAAS,CAAC,CAAC;EAE1B,MAAM2B,UAAU,GAAGA,CAAA,KAAM;IACvBxC,YAAY,CAAC,KAAK,CAAC;IACnBQ,iBAAiB,CAAC,KAAK,CAAC;IACxB4B,UAAU,CAAC,MAAMzB,QAAQ,CAAC,YAAY,CAAC,EAAE,GAAG,CAAC;EAC/C,CAAC;EAED,oBACEjB,OAAA,CAAAE,SAAA;IAAA6C,QAAA,gBACE/C,OAAA;MAAA+C,QAAA,EAAQ;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB1C,SAAS,GAAG,CAAC,GAAG,CAAC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}